<html>
  <head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/video.js/7.6.6/video-js.min.css">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/video.js/7.6.6/video.min.js"></script>
    <script type="text/javascript" src="https://player.live-video.net/1.3.1/amazon-ivs-videojs-tech.min.js"></script>
    <script type="text/javascript" src="https://player.live-video.net/1.3.1/amazon-ivs-quality-plugin.min.js">  </script>
    <style>
          .video-js {
          width: 500px;
          height: 300px;
          max-width: 100%;
        }
    </style>
</head>
<body>
  <video
    class="video-js"
    id="my-video"
    controls
    preload="auto"
    width='600'
    crossorigin="anonymous"
         type="application/x-mpegURL"
  >
  </video>
 
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      if (window.videojs && window.registerIVSTech && window.registerIVSQualityPlugin) {
        window.registerIVSTech(window.videojs);
        window.registerIVSQualityPlugin(window.videojs);
        const videoURL = "https://fta.rctiplus.id/live/eds/GTV2021/live_fta/GTV2021.m3u8"

        const videoOptions = {
          techOrder: ['AmazonIVS', 'html5'],
          controlBar: {
            download: false,
            playToggle: { replay: false },
            pictureInPictureToggle: false
          },
          autoplay: true,
          controls: true,
          playsinline: true,
          muted: true,
          fluid: true,
          loop: false,
          html5: {
            nativeAudioTracks: false,
            nativeVideoTracks: false,
            nativeTextTracks: false,
            hls: {
              allowSeeksWithinUnsafeLiveWindow: false,
              overrideNative: !videojs.browser.IS_ANY_SAFARI,
            },
            vhs: {
              allowSeeksWithinUnsafeLiveWindow: false,
              overrideNative: !videojs.browser.IS_ANY_SAFARI,
            },
          },
          liveui: !videojs.browser.IS_ANY_SAFARI,
          liveTracker: !videojs.browser.IS_ANY_SAFARI,
          playbackRates: [0.25, 0.5, 0.75, 1, 1.25, 1.5, 1.75, 2],
          crossorigin: 'anonymous',
        }

        const player = videojs(document.querySelector('#my-video'), videoOptions, () => {
          console.log('hello', player.enableIVSQualityPlugin)
          player.enableIVSQualityPlugin()
          player.src(videoURL);
          player.playsinline(true);
        });
        
        player.on('error', (error) => console.error('error', error));
      }
    })
  </script>
</body></html>
