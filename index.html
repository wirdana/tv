<html>

<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/video.js/7.6.6/video-js.min.css">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/video.js/7.6.6/video.min.js"></script>
    <script type="text/javascript" src="https://player.live-video.net/1.3.1/amazon-ivs-videojs-tech.min.js"></script>
    <script type="text/javascript"
        src="https://player.live-video.net/1.3.1/amazon-ivs-quality-plugin.min.js">  </script>
    <style>
        .video-js {
            color: #fff;
            width: 500px;
            height: 300px;
            max-width: 100%;
            font-size: 15px;
        }

        .vjs-liveui .vjs-progress-control {
            display: flex;
            align-items: center;
        }
    </style>
    <title>TV</title>
</head>

<body style="width: 500px;">
    <!-- <video class="video-js" id="my-video" controls preload="auto" width="600" height="400" crossorigin="anonymous"
        type="application/x-mpegURL">
    </video> -->
    <video class="video-js" id="my-video" preload="auto" style="height: 280px; width: 100%; margin-left: 80%; margin-top: 1%;"></video>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            if (window.videojs && window.registerIVSTech && window.registerIVSQualityPlugin) {
                window.registerIVSTech(window.videojs);
                window.registerIVSQualityPlugin(window.videojs);
                const videoURL = "https://fta.rctiplus.id/live/eds/MNCTV_2021/live_fta/MNCTV_2021.m3u8"

                const videoOptions = {
                    techOrder: ['AmazonIVS', 'html5'],
                    controlBar: {
                        // download: true,
                        playToggle: { replay: true },
                        timeDivider: true,
                        currentTimeDisplay: true,
                        progressControl: false,
                        remainingTimeDisplay: true,
                        // pictureInPictureToggle: false,
                        durationDisplay: true,
                    },
                    autoplay: true,
                    controls: true,
                    playsinline: true,
                    muted: false,
                    fluid: true,
                    loop: true,
                    html5: {
                        nativeAudioTracks: true,
                        nativeVideoTracks: true,
                        nativeTextTracks: true,
                        hls: {
                            allowSeeksWithinUnsafeLiveWindow: true,
                            overrideNative: !videojs.browser.IS_ANY_SAFARI,
                        },
                        vhs: {
                            allowSeeksWithinUnsafeLiveWindow: true,
                            overrideNative: !videojs.browser.IS_ANY_SAFARI,
                        },
                    },
                    liveui: !videojs.browser.IS_ANY_SAFARI,
                    liveTracker: !videojs.browser.IS_ANY_SAFARI,
                    // playbackRates: [ 0.5, 0.75,1, 1.25, 1.5],
                    // crossorigin: 'anonymous',
                }

                const player = videojs(document.querySelector('#my-video'), videoOptions, () => {
                    console.log('hello', player.enableIVSQualityPlugin);
                    player.enableIVSQualityPlugin();
                    player.src(videoURL);
                    player.playsinline(true);
                });

                player.on('error', (error) => console.error('error', error));
            }
        })
    </script>
</body>

</html>
